---
author: "Laluka"
title: "New York, Datadog et moi - Semaine 3 à 6"
slug: "new_york_datadog_et_moi_semaine_3_a_6"
date: 2019-03-16
status: "traduit"
description: "Deuxième article sur mon voyage à New-York. Les soirées à Datadog, les visites avec Marine, api endpoints sanitization, vagrant et ansible, trouver une maison ENCORE... Et photos !"
---


# Soirées Datadog

Quelques fois par mois, des fêtes sont organisées soit dans les locaux de l'entreprise, soit dans des endroits sympas pas loin de l'entreprise.
Jusqu'à présent, j'ai participé à trois soirées. Une première pour déguster du whisky, une deuxième pour réaliser son propre terrarium et manger des sushis faits main, et une dernière pour aller dans un big-games bar. Et chaque événement a été un grand succès ! :D

<img class="img_big" src="/travels/new_york_03_to_06/sushi.jpg", alt="sushi">
<img class="img_big" src="/travels/new_york_03_to_06/plant.jpg", alt="plant">

Il y a beaucoup de stagiaires, et l'ambiance est toujours chill / funny. Je me moquais de la culture d'entreprise, mais bon... Ce n'est pas si mal quand c'est bien fait !

<img class="img_big" src="/travels/new_york_03_to_06/party_pics.jpg", alt="party_pics">

Les jeux étaient plutôt cool et la musique (house / EDM) aussi, mais damn, jouer au ping-pong en ayant bu c'est difficile !


<img class="img_big" src="/travels/new_york_03_to_06/party_pup_ping_ping.jpg", alt="party_pup_ping_ping">
<img class="img_big" src="/travels/new_york_03_to_06/party_pup_connect_four.jpg", alt="party_pup_connect_four">


# Nuit de jeux et rooftop

J'ai été invité par une amie à une soirée jeux vidéo avec ses amis. Nous avons joué un peu, savouré les délicieux cocktails faits par son petit ami, puis nous sommes allés sur un rooftop. C'était sympa, classe, mais malheureusement, il faisait TROP FROID dehors pour rester longtemps.

<img class="img_big" src="/travels/new_york_03_to_06/rooftop_mirror.jpg", alt="rooftop_mirror">
<img class="img_big" src="/travels/new_york_03_to_06/rooftop_outdoor.jpg", alt="rooftop_outdoor">

Mais la meilleure partie était.... Les urinoirs ! Imaginez que vous êtes de bonne humeur, vous avez bu quelques verres, vous avez besoin de faire une pause, et vous allez aux toilettes pour trouver cet endroit super mignon avec des bougies. C'etait inattendu ! :')

<img class="img_big" src="/travels/new_york_03_to_06/rooftop_urinal.jpg", alt="rooftop_urinal">

# Visite avec Marine

Tout est dans le titre : Marine est venue du 1er au 10 Mars. Nous avons beaucoup visité et marché même s'il faisait glacial dehors. Oui... Tous les touristes prenent les mêmes photos, et c'est nul, vous ne trouvez pas ? Eh bien moi oui ! Enfin bref, voici les notres ! `¯\_(ツ)_/¯`

<img class="img_big" src="/travels/new_york_03_to_06/liberty_cliche.jpg", alt="liberty_cliche">
<img class="img_big" src="/travels/new_york_03_to_06/liberty_hug.jpg", alt="liberty_hug">

Il y a quelques mois, nous avons vu une super série Netflix 'Atypical' sur un adolescent autiste qui essaye de comprendre comment la vie et les relations fonctionnent. Il y a une scène où il sourit et quelqu'un lui explique que pour être beau il faudrait que son sourire ne soit que 70% de celui actuel... Un peu comme nous (mais malheureusement nous ne sommes pas aussi bons que cet acteur). Alors c'est devenu notre truc : si tu ne te sens pas assez beau, souris le plus fort possible et espère que tu auras l'air assez bizarre pour rendre l'image belle !

Peu importe, si vous n'avez pas encore vu cette série, vous devez essayer ! ;)

<img class="img_big" src="/travels/new_york_03_to_06/autistic_smile.jpg", alt="autistic_smile">

Nous sommes allés à Time Square et montés à Top Of The Rock (building assez haut en face de Central Park). Il faisait froid dans les rues mais une fois là haut il n'y avait pas de vent grâce aux panneaux de verre et comme le soleil tapait assez fort c'était très agréable de profiter de la vue. Et si vous zoomer un peu, vous pourez remarquer... SMILE ! :D


<img class="img_big" src="/travels/new_york_03_to_06/times_square.jpg", alt="times_square">
<img class="img_big" src="/travels/new_york_03_to_06/totr_smile.jpg", alt="totr_smile">

En allant au One World Trace Center (building construit après la chute des Tours Jumelles), nous avons vu cet immense monstre qui est à la fois un centre commercial et une station de metro. C'est impressionant, c'est énorme à l'extérieur et encore plus vu de l'intérieur !

<img class="img_big" src="/travels/new_york_03_to_06/monster_out.jpg", alt="monster_out">
<img class="img_big" src="/travels/new_york_03_to_06/monster_in.jpg", alt="monster_in">

Ensuite nous avons fait une pause dans un SPA coréen. Nous étions un peu malade à cause du froid donc un peu de chaleur nous a fait du bien. La vue que nous avions sur New York depuis la piscine très chauffée était magnifique mais nous avons était choqués en réalisant que la majorité des gens autour de nous n'étaient là que pour poser et se prendre en photo... Certes, nous avons fait plein de photos souvenirs mais certains sont restés pendant des heures à prendre des selfies encore et encore dans la même pose, ils ne semblaient même pas profiter de la piscine et de la vue et se souciaient seulement de leur réseaux sociaux... C'était étrange !


<img class="img_big" src="/travels/new_york_03_to_06/spa_her.jpg", alt="spa_her">
<img class="img_big" src="/travels/new_york_03_to_06/spa_him.jpg", alt="spa_him">

Un de mes amis est venu avec nous pour visiter le musée d'histoire naturelle. On était un peu fatigués mais très heureux de le suivre et le voir s'émerveiller. Je pense que ce que j'ai le plus aimé cette journée c'est lui et son boneur et pas le musée en lui même ! Julien, si tu lis ça, ne change rien, tu gères ! `^.^`


<img class="img_big" src="/travels/new_york_03_to_06/carayol.jpg", alt="carayol">
<img class="img_big" src="/travels/new_york_03_to_06/badass_tree.jpg", alt="badass_tree">

Et pour finir, voici une photo très classe de New-York qu'elle a prise le premier jour :

<img class="img_big" src="/travels/new_york_03_to_06/black_white_nyc.jpg", alt="black_white_nyc">

# A propos du travail

Boooon, la vie est cool, mais le travail compte aussi, n'est-ce pas ?

### API endpoints input sanitization

L'input sanitization est quelque chose d'important où que vous alliez, quoique vous fassiez. Cela signifie qu'il faut vérifier que personne ne donne de données erronées ou malveillantes. Dans la vie, nous faisons attention de ne pas manger de cailloux au lieu de fruits,  de ne pas laisser entrer n'importe qui chez soi ou encore de porter un preservatif. Ce qui est autorisé doit être sur liste blanche, et c'est la même idée en sécurité. A chque fois que quelqu'un veut soumettre des données, nous les examinons pour nous assurer que tout ira bien et que nous ne sommes pas attaqués. Pour cela, nous utilisons principalement (en tout cas pour ce projet) un schéma json qui décrit les données attendues et les compare ensuite aux données entrées dans la requête. Si la requête n'est pas conforme, elle est rejetée.

En vérifiant comment les contrôles étaient effectués, je me suis rendu compte que la validation de l'email ne consiste qu'en de très faibles contrôles...


```python
def validate_email(email):
    return isinstance(email, str) and "@" in str
```

Je me suis vraiment tout de suite dit "WTF, ce n'est pas assez du tout" et j'ai essayé de créer une pull requeste pour améliorer cela, mais en creusant dans ce dépôt github, j'ai vu un problème fermé sur ce sujet, et voilà ce que j'ai trouvé : une lecture hallucinante de 5mn ! Amusez-vous bien, it's gold-certified material.

https://hackernoon.com/the-100-correct-way-to-validate-email-addresses-7c4818f24643


### Déploiement automatisé d'une application web vulnérable

Le travail effectué ici implique de nombreux dépôts privés préexistants utilisés par Datadog, donc je ne peux pas tout expliquer, mais il s'agit essentiellement de scripts terraform qui vont configurer des comptes AWS pour nous. La partie sur laquelle j'ai travaillé était principalement l'utilisation d'Ansible et Vagrant pour les cookbooks et les tests locaux.

Vagrant est un logiciel de virtualisation que l'on peut utiliser pour beaucoup de choses :

- Avoir un environnement de développement / piratage configuré  sur n'importe quel OS
- Avoir une machine virtuelle que vous pouvez détruire et jeter à tout moment
- Effectuer des tests d'infrastructure avec de nombreux hôtes
- Bien plus encore, honeypot, software behavior analysis, ...

Ansible est un outil super cool qui vous aide à fournir automatiquement différents services et fichiers sur un système local ou distant en utilisant des cookbooks. Le scookbooks contiennet juste la description de ce qui doit être fait, Ansible fait le reste, donc il se sent comme "Configuration File As An Infra". C'est super pratique et la base de code est assez propre car elle est développée par RedHat.

Voici quelques ressources utiles / intéressantes :

- https://www.vagrantup.com/
- https://www.ansible.com/
- https://sysadmincasts.com/episodes/43-19-minutes-with-ansible-part-1-4
- https://sysadmincasts.com/episodes/45-learning-ansible-with-vagrant-part-2-4
- https://sysadmincasts.com/episodes/46-configuration-management-with-ansible-part-3-4
- https://sysadmincasts.com/episodes/47-zero-downtime-deployments-with-ansible-part-4-4


# Trouver une maison... ENCORE

Le patron de mon coloc avait de l'argent. Beaucoup, mais il semble qu'il en ait perdu en bourse. Il avait donc de l'argent. Ainsi plusieurs employés (chauffeur privé, cuisinier et probablement d'autres...) ont été licensiés. Adrian n'a pas mal pris cette nouvelle car il aime la nature et la vie new yorkaise n'est pas faite pour lui, alors il est de nouveau sur la route et va bientôt voyager autour du monde !

Mais ça signifie pour moi que je dois soit trouver un nouveau coloc le plus vite possible, soit quitter l'appartement avant le 1er Avril. C'est nul ! Je veux rester cette maison donc... Si vous connaissez quelqu'un qui cherche un endroit paisible et joli prêt de New York... faites leur savoir... M'ok ?


# Pensées diverses

Où que vous soyez, les visioconférences peuvent échouer et échoueront à un moment donné. C'est super amusant d'avoir 30 ingénieurs qui essaient de réparer un téléviseur avec des conseils en direct et des rires des travailleurs à distance !

<img class="img_big" src="/travels/new_york_03_to_06/video_conf.jpg", alt="video_conf">

Alors que je me rendais à White Plaines, j'ai raté mon arrêt de train et je suis arrivé directement au Valhalla. C'était vraiment étrange de rater un arrêt et d'atteindre le paradis des valkyries comme ça en 5 minutes !

<img class="img_big" src="/travels/new_york_03_to_06/valhalla.jpg", alt="valhalla">

Plus tard dans la journée, nous sommes passés par un cours de peinture où quelques perles nous attendaient.

<img class="img_big" src="/travels/new_york_03_to_06/art.jpg", alt="art">
<img class="img_big" src="/travels/new_york_03_to_06/bob_ross.jpg", alt="bob_ross">

J'espère que vous avez eu une belle journée / semaine / mois, et si ce n'est pas le cas, souvenez vous :

<img class="img_big" src="/travels/new_york_03_to_06/one_in_a_melon.jpg", alt="one_in_a_melon">

A bientôt et prenez soin de vous ! ;)
